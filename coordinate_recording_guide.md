# 📍 自定义坐标点赞功能使用指南

## 🎯 功能概述

为了解决直播点赞中图像识别可能不准确的问题，AIPhone新增了**自定义坐标记录功能**。用户可以手动记录点赞按钮的精确位置，然后系统会按照记录的坐标进行点赞操作，确保100%的准确性。

## ✨ 主要特性

- **📍 精确定位**: 用户手动选择点赞位置，100%准确
- **💾 永久保存**: 坐标自动保存，无需重复设置
- **🔄 智能切换**: 优先使用自定义坐标，备用图像识别
- **📱 多应用支持**: 每个应用独立保存坐标
- **👁️ 可视化指导**: 实时显示坐标标记和操作提示

## 🚀 使用步骤

### 1. 启动悬浮窗
1. 打开目标直播应用（抖音/微信等）
2. 启动AIPhone悬浮按钮
3. 点击悬浮按钮展开详细面板

### 2. 记录坐标
1. **点击"📍记录"按钮**
   - 屏幕会显示半透明黑色覆盖层
   - 中央显示操作说明文字

2. **选择点赞位置**
   - 直接点击直播界面中的点赞按钮/图标
   - 系统会显示红色📍标记确认位置
   - 1秒后自动保存坐标并退出记录模式

3. **取消记录**
   - 点击屏幕中央的说明区域可取消记录
   - 或者重新点击"📍记录"按钮取消

### 3. 使用坐标
1. **自动启用**: 坐标记录完成后会自动启用
2. **开始任务**: 点击"▶️启动"按钮开始直播点赞
3. **优先级**: 系统优先使用自定义坐标，失败时才使用图像识别

## 📊 状态显示

### 悬浮窗信息
当使用自定义坐标时，详细统计面板会显示：
```
📍 自定义坐标模式
位置: (850, 1200)
备注: 用户记录位置
👍 点赞：5/50
📊 总操作：5
⏱️ 总用时：10秒
```

### 日志记录
系统会记录所有坐标相关操作：
- `📍 开始坐标记录模式`
- `📍 记录坐标: (850, 1200)`
- `✅ 坐标记录完成: (850, 1200)`
- `📍 使用自定义坐标点赞: (850, 1200)`
- `✅ 自定义坐标点赞成功`

## 🔧 技术特性

### 坐标存储
- **本地保存**: 使用SharedPreferences永久保存
- **应用隔离**: 每个应用的坐标独立存储
- **格式**: `packageName_x`, `packageName_y`, `packageName_enabled`

### 优先级机制
1. **第一优先级**: TaskConfig中的useCustomCoordinates
2. **第二优先级**: SharedPreferences中保存的坐标
3. **第三优先级**: 图像识别算法
4. **备用方案**: 固定位置点击

### 界面适配
- **全屏覆盖**: 支持任意屏幕尺寸
- **触摸精确**: 原始像素级坐标记录
- **可视反馈**: 实时显示标记位置

## 💡 使用技巧

### 最佳实践
1. **选择时机**: 在直播界面完全加载后记录坐标
2. **精确点击**: 点击点赞按钮的中心位置
3. **避免遮挡**: 确保悬浮窗不遮挡目标按钮
4. **测试验证**: 记录后先测试几次确认位置正确

### 常见场景
- **抖音直播**: 点击屏幕任意位置都可以点赞
- **微信直播**: 点击右下角的大拇指图标
- **其他平台**: 根据具体界面选择点赞按钮

### 注意事项
- **界面变化**: 应用更新可能导致按钮位置变化，需重新记录
- **屏幕旋转**: 横竖屏切换需要重新记录坐标
- **分辨率**: 不同设备分辨率下坐标不通用

## 🛠️ 故障排除

### 坐标记录失败
**症状**: 点击"📍记录"按钮无反应
**解决**: 
- 检查悬浮窗权限是否开启
- 确认应用在前台运行
- 重启悬浮按钮服务

### 点击位置不准
**症状**: 自动点赞位置偏移
**解决**:
- 重新记录坐标，确保精确点击
- 检查是否有悬浮窗遮挡
- 验证目标应用界面没有变化

### 坐标丢失
**症状**: 坐标记录后消失
**解决**:
- 检查应用数据是否被清除
- 重新记录坐标
- 确认包名正确

## 📈 功能对比

| 方案 | 准确率 | 设置难度 | 稳定性 | 适应性 |
|------|--------|----------|--------|--------|
| 自定义坐标 | 100% | 简单 | 极高 | 需重设 |
| 图像识别 | 85-90% | 无需设置 | 较高 | 自动适应 |
| 固定位置 | 70-80% | 无需设置 | 中等 | 较差 |

## 🔮 未来优化

### 已规划功能
- [ ] 多坐标支持（关注、评论等）
- [ ] 坐标导入/导出功能
- [ ] 智能坐标验证
- [ ] 批量坐标管理

### 可能增强
- [ ] 区域选择（而非单点）
- [ ] 坐标自动校准
- [ ] 云端坐标共享
- [ ] AI辅助坐标建议

---

## 📞 技术支持

这个功能为直播点赞提供了最可靠的解决方案。如果遇到问题：

1. **查看日志**: 检查LogCollector中的详细信息
2. **重新记录**: 清除旧坐标，重新记录新位置
3. **联系支持**: 提供具体的错误信息和应用版本

**推荐流程**: 自定义坐标 → 图像识别 → 固定位置，三重保障确保功能可用性！ 